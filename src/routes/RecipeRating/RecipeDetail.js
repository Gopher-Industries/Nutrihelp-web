import { Star } from "lucide-react";
import { useParams, useNavigate } from "react-router-dom";
import { useEffect, useState } from "react";
import { getRecipes, deleteRecipe } from "../../routes/CreateRecipe/data/db/db";

export default function CreamySalad() {
  const rating = 3; // out of 5
  const [recipe, setRecipe] = useState(null);
  const navigate = useNavigate(); // <-- Initialize useNavigate
  const { id } = useParams(); // <-- get ID from URL

  useEffect(() => {
    const fetchData = async () => {
      const data = await getRecipes();
      const recipe = data.find((item) => String(item.id) === String(id));
      setRecipe(recipe);
    };

    fetchData();
  }, [id]);

  // New function to handle recipe deletion
  // In CreamySalad.jsx

  // Inside the handleDelete function
  const handleDelete = async () => {
    try {
      await deleteRecipe(Number(id)); // Convert the ID to a number
      navigate("/recipe");
    } catch (error) {
      console.error("Failed to delete recipe:", error);
    }
  };

  if (!recipe) return <p className="p-6">Loading...</p>;

  return (
    <div id="no-bg" className="bg-gray-50 min-h-screen p-6 flex justify-center">
      <div
        id="no-bg"
        className="bg-white shadow-md rounded-2xl w-full max-w-6xl p-6"
      >
        {/* Header */}
        <div id="no-bg" className="flex flex-col items-start justify-between">
          <h1 id="no-bg" className="text-4xl font-semibold">
            {recipe.recipe_name}
          </h1>
          <div className="flex items-center space-x-4 mt-2">
            <div id="no-bg" className="flex items-center space-x-1 mt-2">
              <p id="no-bg">Your rating: </p>
              {[1, 2, 3, 4, 5].map((i) => (
                <Star
                  key={i}
                  id="no-bg"
                  className={`w-5 h-5 ${
                    i <= rating
                      ? "text-yellow-500 fill-yellow-500"
                      : "text-gray-300"
                  }`}
                />
              ))}
            </div>
            <div id="no-bg" className="flex items-center space-x-6 mt-2">
              <div className="flex items-center text-center gap-1 justify-center">
                <svg
                  width="21"
                  height="21"
                  viewBox="0 0 21 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M13.625 10.5C12.8218 10.5 12.0453 10.1414 11.4375 9.49063C10.8464 8.85586 10.4855 8.00938 10.4218 7.10781C10.3539 6.14609 10.6472 5.26172 11.2476 4.61719C11.848 3.97266 12.6875 3.625 13.625 3.625C14.5558 3.625 15.3976 3.97891 15.996 4.62187C16.6003 5.27109 16.8945 6.15391 16.8265 7.10742C16.7613 8.01016 16.4007 8.85625 15.8109 9.49023C15.2046 10.1414 14.4285 10.5 13.625 10.5ZM18.7746 17.375H8.47574C8.31015 17.3759 8.14658 17.3388 7.99759 17.2665C7.84861 17.1943 7.71818 17.0888 7.61636 16.9582C7.50835 16.8166 7.43377 16.6525 7.39819 16.478C7.3626 16.3036 7.36695 16.1233 7.41089 15.9508C7.7398 14.6301 8.55464 13.5348 9.76714 12.7836C10.8433 12.1172 12.2132 11.75 13.625 11.75C15.0644 11.75 16.3984 12.1016 17.4808 12.7676C18.696 13.5148 19.5121 14.6164 19.8394 15.9531C19.8828 16.1258 19.8867 16.306 19.8507 16.4804C19.8147 16.6548 19.7398 16.8188 19.6316 16.9602C19.5299 17.0901 19.3998 17.1951 19.2512 17.267C19.1026 17.3389 18.9396 17.3758 18.7746 17.375ZM6.24214 10.6562C4.86753 10.6562 3.65894 9.37813 3.54683 7.80742C3.49136 7.00273 3.74214 6.25859 4.24996 5.71289C4.7523 5.17266 5.46089 4.875 6.24214 4.875C7.02339 4.875 7.72652 5.17422 8.2316 5.71758C8.74331 6.26758 8.99331 7.01016 8.93472 7.8082C8.82261 9.37852 7.61441 10.6562 6.24214 10.6562ZM8.80699 11.8848C8.11988 11.5488 7.22808 11.3809 6.24253 11.3809C5.09175 11.3809 3.97417 11.6809 3.09527 12.2254C2.09878 12.8438 1.42847 13.7441 1.15777 14.8313C1.11815 14.9876 1.11441 15.1509 1.14681 15.3089C1.17921 15.4669 1.24692 15.6156 1.34488 15.7437C1.43783 15.8631 1.5569 15.9595 1.69295 16.0256C1.829 16.0917 1.97839 16.1257 2.12964 16.125H6.46558C6.53876 16.125 6.60962 16.0993 6.6658 16.0524C6.72198 16.0055 6.75992 15.9404 6.773 15.8684C6.7773 15.8438 6.78277 15.8191 6.78902 15.7949C7.12027 14.4645 7.89644 13.3402 9.04331 12.5207C9.0855 12.4903 9.11943 12.4498 9.14202 12.403C9.16462 12.3562 9.17518 12.3045 9.17274 12.2525C9.17029 12.2006 9.15493 12.1501 9.12803 12.1056C9.10113 12.0611 9.06356 12.024 9.01871 11.9977C8.95738 11.9617 8.88706 11.9238 8.80699 11.8848Z"
                    fill="black"
                  />
                </svg>
                <p className="text-center m-auto font-bold">
                  Serving: {recipe.total_servings}
                </p>
              </div>
              <div className="flex items-center text-center gap-1 justify-center">
                <svg
                  width="22"
                  height="21"
                  viewBox="0 0 22 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11.5 3C15.3661 3 18.5 6.1339 18.5 10C18.5 13.8661 15.3661 17 11.5 17C7.6339 17 4.5 13.8661 4.5 10C4.5 6.1339 7.6339 3 11.5 3ZM11.5 5.8C11.3143 5.8 11.1363 5.87375 11.005 6.00503C10.8737 6.1363 10.8 6.31435 10.8 6.5V10C10.8 10.1856 10.8738 10.3637 11.0051 10.4949L13.1051 12.5949C13.2371 12.7224 13.4139 12.793 13.5975 12.7914C13.781 12.7898 13.9566 12.7162 14.0864 12.5864C14.2162 12.4566 14.2898 12.281 14.2914 12.0975C14.293 11.9139 14.2224 11.7371 14.0949 11.6051L12.2 9.7102V6.5C12.2 6.31435 12.1262 6.1363 11.995 6.00503C11.8637 5.87375 11.6857 5.8 11.5 5.8Z"
                    fill="black"
                  />
                </svg>
                <p className="text-center m-auto font-bold">
                  Time: {recipe.preparation_time}
                </p>
              </div>
              <div className="flex items-center text-center gap-1 justify-center">
                <svg
                  width="25"
                  height="21"
                  viewBox="0 0 25 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M17.75 3.5H16.25C16.0511 3.5 15.8603 3.58198 15.7197 3.72791C15.579 3.87383 15.5 4.07175 15.5 4.27812V17.5H18.5V4.27812C18.5 4.07175 18.421 3.87383 18.2803 3.72791C18.1397 3.58198 17.9489 3.5 17.75 3.5ZM13.25 8.16874H11.75C11.5511 8.16874 11.3603 8.25072 11.2197 8.39665C11.079 8.54257 11 8.74049 11 8.94687V17.5H14V8.94687C14 8.74049 13.921 8.54257 13.7803 8.39665C13.6397 8.25072 13.4489 8.16874 13.25 8.16874ZM8.75 12.8375H7.25C7.05109 12.8375 6.86032 12.9195 6.71967 13.0654C6.57902 13.2113 6.5 13.4092 6.5 13.6156V17.5H9.5V13.6156C9.5 13.4092 9.42098 13.2113 9.28033 13.0654C9.13968 12.9195 8.94891 12.8375 8.75 12.8375Z"
                    fill="black"
                  />
                </svg>
                <p className="text-center m-auto font-bold">Difficulty: Easy</p>
              </div>
            </div>
          </div>
        </div>

        {/* Action Buttons */}
        <div id="no-bg" className="flex flex-wrap gap-2 mt-4">
          <div id="no-bg" className="flex gap-2">
            <button
              id="no-bg"
              className="bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2 font-semibold"
            >
              Add to Meal Plan
              <svg
                width="15"
                height="17"
                viewBox="0 0 15 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0 2C0 1.46957 0.210714 0.960859 0.585786 0.585786C0.960859 0.210714 1.46957 0 2 0H10C10.5304 0 11.0391 0.210714 11.4142 0.585786C11.7893 0.960859 12 1.46957 12 2V7.207C11.058 6.93955 10.0616 6.92847 9.11382 7.17491C8.16605 7.42135 7.30128 7.91637 6.60882 8.60882C5.91637 9.30128 5.42135 10.1661 5.17491 11.1138C4.92847 12.0616 4.93955 13.058 5.207 14H1C1 14.2652 1.10536 14.5196 1.29289 14.7071C1.48043 14.8946 1.73478 15 2 15H5.6C5.784 15.3587 6.003 15.692 6.257 16H2C1.46957 16 0.960859 15.7893 0.585786 15.4142C0.210714 15.0391 0 14.5304 0 14V2ZM10.5 17C11.6935 17 12.8381 16.5259 13.682 15.682C14.5259 14.8381 15 13.6935 15 12.5C15 11.3065 14.5259 10.1619 13.682 9.31802C12.8381 8.47411 11.6935 8 10.5 8C9.30653 8 8.16193 8.47411 7.31802 9.31802C6.47411 10.1619 6 11.3065 6 12.5C6 13.6935 6.47411 14.8381 7.31802 15.682C8.16193 16.5259 9.30653 17 10.5 17ZM10.5 10C10.6326 10 10.7598 10.0527 10.8536 10.1464C10.9473 10.2402 11 10.3674 11 10.5V12H12.5C12.6326 12 12.7598 12.0527 12.8536 12.1464C12.9473 12.2402 13 12.3674 13 12.5C13 12.6326 12.9473 12.7598 12.8536 12.8536C12.7598 12.9473 12.6326 13 12.5 13H11V14.5C11 14.6326 10.9473 14.7598 10.8536 14.8536C10.7598 14.9473 10.6326 15 10.5 15C10.3674 15 10.2402 14.9473 10.1464 14.8536C10.0527 14.7598 10 14.6326 10 14.5V13H8.5C8.36739 13 8.24021 12.9473 8.14645 12.8536C8.05268 12.7598 8 12.6326 8 12.5C8 12.3674 8.05268 12.2402 8.14645 12.1464C8.24021 12.0527 8.36739 12 8.5 12H10V10.5C10 10.3674 10.0527 10.2402 10.1464 10.1464C10.2402 10.0527 10.3674 10 10.5 10ZM2.75 2C2.55109 2 2.36032 2.07902 2.21967 2.21967C2.07902 2.36032 2 2.55109 2 2.75V3.25C2 3.664 2.336 4 2.75 4H9.25C9.44891 4 9.63968 3.92098 9.78033 3.78033C9.92098 3.63968 10 3.44891 10 3.25V2.75C10 2.55109 9.92098 2.36032 9.78033 2.21967C9.63968 2.07902 9.44891 2 9.25 2H2.75Z"
                  fill="white"
                />
              </svg>
            </button>
            <button
              id="no-bg"
              className="bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1 font-semibold"
            >
              Add Favorites{" "}
              <svg
                width="18"
                height="16"
                viewBox="0 0 18 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M9.00033 15.7917L7.79199 14.6917C3.50033 10.8 0.666992 8.225 0.666992 5.08333C0.666992 2.50833 2.68366 0.5 5.25033 0.5C6.70033 0.5 8.09199 1.175 9.00033 2.23333C9.90866 1.175 11.3003 0.5 12.7503 0.5C15.317 0.5 17.3337 2.50833 17.3337 5.08333C17.3337 8.225 14.5003 10.8 10.2087 14.6917L9.00033 15.7917Z"
                  fill="white"
                />
              </svg>
            </button>
          </div>
          <div id="no-bg" className="flex gap-2 ml-auto">
            <button
              id="no-bg"
              className="bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1 font-semibold"
            >
              Print PDF
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.66699 17.5C6.20866 17.5 5.81644 17.3369 5.49033 17.0108C5.16421 16.6847 5.00088 16.2922 5.00033 15.8333V14.1667H3.33366C2.87533 14.1667 2.4831 14.0036 2.15699 13.6775C1.83088 13.3514 1.66755 12.9589 1.66699 12.5V9.16667C1.66699 8.45833 1.91005 7.86472 2.39616 7.38583C2.88227 6.90694 3.47255 6.66722 4.16699 6.66667H15.8337C16.542 6.66667 17.1359 6.90639 17.6153 7.38583C18.0948 7.86528 18.3342 8.45889 18.3337 9.16667V12.5C18.3337 12.9583 18.1706 13.3508 17.8445 13.6775C17.5184 14.0042 17.1259 14.1672 16.667 14.1667H15.0003V15.8333C15.0003 16.2917 14.8373 16.6842 14.5112 17.0108C14.185 17.3375 13.7925 17.5006 13.3337 17.5H6.66699ZM3.33366 12.5H5.00033C5.00033 12.0417 5.16366 11.6494 5.49033 11.3233C5.81699 10.9972 6.20921 10.8339 6.66699 10.8333H13.3337C13.792 10.8333 14.1845 10.9967 14.5112 11.3233C14.8378 11.65 15.0009 12.0422 15.0003 12.5H16.667V9.16667C16.667 8.93056 16.587 8.73278 16.427 8.57333C16.267 8.41389 16.0692 8.33389 15.8337 8.33333H4.16699C3.93088 8.33333 3.7331 8.41333 3.57366 8.57333C3.41421 8.73333 3.33421 8.93111 3.33366 9.16667V12.5ZM13.3337 6.66667V4.16667H6.66699V6.66667H5.00033V4.16667C5.00033 3.70833 5.16366 3.31611 5.49033 2.99C5.81699 2.66389 6.20921 2.50056 6.66699 2.5H13.3337C13.792 2.5 14.1845 2.66333 14.5112 2.99C14.8378 3.31667 15.0009 3.70889 15.0003 4.16667V6.66667H13.3337ZM15.0003 10.4167C15.2364 10.4167 15.4345 10.3367 15.5945 10.1767C15.7545 10.0167 15.8342 9.81889 15.8337 9.58333C15.8331 9.34778 15.7531 9.15 15.5937 8.99C15.4342 8.83 15.2364 8.75 15.0003 8.75C14.7642 8.75 14.5664 8.83 14.407 8.99C14.2475 9.15 14.1675 9.34778 14.167 9.58333C14.1664 9.81889 14.2464 10.0169 14.407 10.1775C14.5675 10.3381 14.7653 10.4178 15.0003 10.4167ZM13.3337 15.8333V12.5H6.66699V15.8333H13.3337Z"
                  fill="white"
                />
              </svg>
            </button>
            <button
              id="no-bg"
              className="bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1 font-semibold"
            >
              Share
              <svg
                width="13"
                height="14"
                viewBox="0 0 13 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.8333 14C10.2315 14 9.71991 13.7958 9.29861 13.3875C8.87731 12.9792 8.66667 12.4833 8.66667 11.9C8.66667 11.83 8.68472 11.6667 8.72083 11.41L3.64722 8.54C3.45463 8.715 3.23194 8.8522 2.97917 8.9516C2.72639 9.051 2.45556 9.10047 2.16667 9.1C1.56481 9.1 1.05324 8.89583 0.631944 8.4875C0.210648 8.07917 0 7.58333 0 7C0 6.41667 0.210648 5.92083 0.631944 5.5125C1.05324 5.10417 1.56481 4.9 2.16667 4.9C2.45556 4.9 2.72639 4.9497 2.97917 5.0491C3.23194 5.1485 3.45463 5.28547 3.64722 5.46L8.72083 2.59C8.69676 2.50833 8.68183 2.4297 8.67605 2.3541C8.67028 2.2785 8.66715 2.1938 8.66667 2.1C8.66667 1.51667 8.87731 1.02083 9.29861 0.6125C9.71991 0.204167 10.2315 0 10.8333 0C11.4352 0 11.9468 0.204167 12.3681 0.6125C12.7894 1.02083 13 1.51667 13 2.1C13 2.68333 12.7894 3.17917 12.3681 3.5875C11.9468 3.99583 11.4352 4.2 10.8333 4.2C10.5444 4.2 10.2736 4.1503 10.0208 4.0509C9.76805 3.9515 9.54537 3.81453 9.35278 3.64L4.27917 6.51C4.30324 6.59167 4.31841 6.67053 4.32467 6.7466C4.33093 6.82267 4.33381 6.90713 4.33333 7C4.33285 7.09287 4.32996 7.17757 4.32467 7.2541C4.31937 7.33063 4.3042 7.40927 4.27917 7.49L9.35278 10.36C9.54537 10.185 9.76805 10.048 10.0208 9.9491C10.2736 9.85017 10.5444 9.80047 10.8333 9.8C11.4352 9.8 11.9468 10.0042 12.3681 10.4125C12.7894 10.8208 13 11.3167 13 11.9C13 12.4833 12.7894 12.9792 12.3681 13.3875C11.9468 13.7958 11.4352 14 10.8333 14Z"
                  fill="white"
                />
              </svg>
            </button>
            <button
              id="no-bg"
              className="bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1 font-semibold"
            >
              Edit
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.7285 4.50652L15.4927 6.27069L13.7285 4.50652ZM14.8627 2.95236L10.0902 7.72486C9.84286 7.97056 9.67455 8.28453 9.60685 8.62652L9.16602 10.8332L11.3727 10.3915C11.7143 10.3232 12.0277 10.1557 12.2743 9.90902L17.0468 5.13652C17.1903 4.99311 17.304 4.82285 17.3816 4.63547C17.4593 4.44809 17.4992 4.24726 17.4992 4.04444C17.4992 3.84162 17.4593 3.64079 17.3816 3.45341C17.304 3.26603 17.1903 3.09577 17.0468 2.95236C16.9034 2.80894 16.7332 2.69518 16.5458 2.61756C16.3584 2.53995 16.1576 2.5 15.9548 2.5C15.7519 2.5 15.5511 2.53995 15.3637 2.61756C15.1764 2.69518 15.0061 2.80894 14.8627 2.95236Z"
                  fill="white"
                />
                <path
                  d="M13.7285 4.50652L15.4927 6.27069M14.8627 2.95236L10.0902 7.72486C9.84286 7.97056 9.67455 8.28453 9.60685 8.62652L9.16602 10.8332L11.3727 10.3915C11.7143 10.3232 12.0277 10.1557 12.2743 9.90902L17.0468 5.13652C17.1903 4.99311 17.304 4.82285 17.3816 4.63547C17.4593 4.44809 17.4992 4.24726 17.4992 4.04444C17.4992 3.84162 17.4593 3.64079 17.3816 3.45341C17.304 3.26603 17.1903 3.09577 17.0468 2.95236C16.9034 2.80894 16.7332 2.69518 16.5458 2.61756C16.3584 2.53995 16.1576 2.5 15.9548 2.5C15.7519 2.5 15.5511 2.53995 15.3637 2.61756C15.1764 2.69518 15.0061 2.80894 14.8627 2.95236Z"
                  stroke="white"
                  strokeWidth="1.66667"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
                <path
                  d="M15.833 12.4993V14.9993C15.833 15.4414 15.6574 15.8653 15.3449 16.1779C15.0323 16.4904 14.6084 16.666 14.1663 16.666H4.99967C4.55765 16.666 4.13372 16.4904 3.82116 16.1779C4.13372 16.4904 4.55765 16.666 4.99967 16.666H7.49967"
                  stroke="white"
                  strokeWidth="1.66667"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </svg>
            </button>
            <button
              id="no-bg"
              className="bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1 font-semibold"
              onClick={handleDelete} // <-- Update this line
            >
              Delete
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M8.33366 4.99935H11.667C11.667 4.55732 11.4914 4.1334 11.1788 3.82084C10.8663 3.50828 10.4424 3.33268 10.0003 3.33268C9.5583 3.33268 9.13438 3.50828 8.82181 3.82084C8.50925 4.1334 8.33366 4.55732 8.33366 4.99935ZM6.66699 4.99935C6.66699 4.11529 7.01818 3.26745 7.6433 2.64233C8.26842 2.01721 9.11627 1.66602 10.0003 1.66602C10.8844 1.66602 11.7322 2.01721 12.3573 2.64233C12.9825 3.26745 13.3337 4.11529 13.3337 4.99935H17.5003C17.7213 4.99935 17.9333 5.08715 18.0896 5.24343C18.2459 5.39971 18.3337 5.61167 18.3337 5.83268C18.3337 6.0537 18.2459 6.26566 18.0896 6.42194C17.9333 6.57822 17.7213 6.66602 17.5003 6.66602H16.7653L16.027 15.2827C15.956 16.1147 15.5753 16.8898 14.9602 17.4546C14.3451 18.0194 13.5404 18.3328 12.7053 18.3327H7.29533C6.46025 18.3328 5.65555 18.0194 5.04045 17.4546C4.42534 16.8898 4.04464 16.1147 3.97366 15.2827L3.23533 6.66602H2.50033C2.27931 6.66602 2.06735 6.57822 1.91107 6.42194C1.75479 6.26566 1.66699 6.0537 1.66699 5.83268C1.66699 5.61167 1.75479 5.39971 1.91107 5.24343C2.06735 5.08715 2.27931 4.99935 2.50033 4.99935H6.66699ZM12.5003 9.99935C12.5003 9.77833 12.4125 9.56637 12.2562 9.41009C12.1 9.25381 11.888 9.16602 11.667 9.16602C11.446 9.16602 11.234 9.25381 11.0777 9.41009C10.9215 9.56637 10.8337 9.77833 10.8337 9.99935V13.3327C10.8337 13.5537 10.9215 13.7657 11.0777 13.9219C11.234 14.0782 11.446 14.166 11.667 14.166C11.888 14.166 12.1 14.0782 12.2562 13.9219C12.4125 13.7657 12.5003 13.5537 12.5003 13.3327V9.99935ZM8.33366 9.16602C8.11265 9.16602 7.90068 9.25381 7.7444 9.41009C7.58812 9.56637 7.50033 9.77833 7.50033 9.99935V13.3327C7.50033 13.5537 7.58812 13.7657 7.7444 13.9219C7.90068 14.0782 8.11265 14.166 8.33366 14.166C8.55467 14.166 8.76663 14.0782 8.92291 13.9219C9.07919 13.7657 9.16699 13.5537 9.16699 13.3327V9.99935C9.16699 9.77833 9.07919 9.56637 8.92291 9.41009C8.76663 9.25381 8.55467 9.16602 8.33366 9.16602Z"
                  fill="white"
                />
              </svg>
            </button>
          </div>
        </div>

        {/* Image */}
        <div id="no-bg" className="mt-6">
          <img
            src={recipe.image}
            alt="Creamy Salad"
            id="no-bg"
            className="w-full rounded-xl object-cover h-80"
          />
        </div>

        {/* Content Section */}
        <div id="no-bg" className="flex justify-between gap-8 w-full pt-12">
          {/* Ingredients */}
          <div id="no-bg" className="bg-gray-50 rounded-xl p-4 w-2/3">
            <h2
              id="no-bg"
              className="text-purple-700 font-semibold text-sm italic mb-3 flex items-center gap-2"
            >
              Ingredients Cost Estimate (AI-Generated){" "}
              <svg
                width="20"
                height="20"
                viewBox="0 0 25 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M9.00454 5.08235C9.72712 2.96777 12.6489 2.90372 13.5056 4.89022L13.5781 5.08356L14.5532 7.93522C14.7767 8.58921 15.1378 9.18767 15.6122 9.69023C16.0866 10.1928 16.6633 10.5878 17.3034 10.8485L17.5656 10.9464L20.4172 11.9203C22.5318 12.6429 22.5959 15.5646 20.6106 16.4213L20.4172 16.4938L17.5656 17.469C16.9114 17.6923 16.3127 18.0534 15.8099 18.5278C15.3071 19.0022 14.912 19.579 14.6511 20.2191L14.5532 20.4801L13.5793 23.333C12.8567 25.4476 9.93496 25.5116 9.07946 23.5263L9.00454 23.333L8.03062 20.4813C7.8073 19.8271 7.44624 19.2284 6.97181 18.7257C6.49738 18.2229 5.92062 17.8277 5.28046 17.5668L5.01946 17.469L2.16779 16.4951C0.0519981 15.7725 -0.0120434 12.8507 1.97446 11.9952L2.16779 11.9203L5.01946 10.9464C5.67345 10.7229 6.27191 10.3618 6.77447 9.88737C7.27703 9.41295 7.672 8.83627 7.93275 8.19622L8.03062 7.93522L9.00454 5.08235ZM11.2919 5.86293L10.318 8.7146C9.97772 9.71184 9.42416 10.6229 8.69585 11.3844C7.96755 12.1459 7.08202 12.7395 6.10091 13.1238L5.79883 13.2338L2.94716 14.2077L5.79883 15.1816C6.79607 15.5219 7.70716 16.0754 8.46864 16.8037C9.23012 17.532 9.8237 18.4176 10.208 19.3987L10.318 19.7008L11.2919 22.5524L12.2658 19.7008C12.6061 18.7035 13.1597 17.7924 13.888 17.031C14.6163 16.2695 15.5018 15.6759 16.4829 15.2916L16.785 15.1828L19.6367 14.2077L16.785 13.2338C15.7878 12.8935 14.8767 12.3399 14.1152 11.6116C13.3537 10.8833 12.7601 9.99778 12.3758 9.01668L12.267 8.7146L11.2919 5.86293ZM20.9586 0.916016C21.1846 0.916015 21.4062 0.979427 21.598 1.09904C21.7898 1.21866 21.9442 1.38969 22.0437 1.59268L22.1017 1.73406L22.5246 2.97381L23.7655 3.39672C23.9921 3.47369 24.1907 3.61618 24.3361 3.80613C24.4816 3.99608 24.5674 4.22494 24.5827 4.46371C24.598 4.70248 24.542 4.94041 24.4219 5.14734C24.3018 5.35428 24.123 5.5209 23.9081 5.6261L23.7655 5.6841L22.5258 6.10702L22.1029 7.34797C22.0258 7.57445 21.8832 7.77294 21.6932 7.9183C21.5031 8.06365 21.2742 8.14933 21.0355 8.16447C20.7967 8.17961 20.5588 8.12354 20.352 8.00335C20.1451 7.88316 19.9786 7.70427 19.8735 7.48935L19.8155 7.34797L19.3926 6.10822L18.1516 5.68531C17.9251 5.60834 17.7265 5.46586 17.581 5.27591C17.4355 5.08596 17.3497 4.85709 17.3345 4.61832C17.3192 4.37955 17.3751 4.14162 17.4952 3.93469C17.6153 3.72775 17.7941 3.56113 18.009 3.45593L18.1516 3.39793L19.3914 2.97502L19.8143 1.73406C19.8958 1.49532 20.0499 1.28807 20.2551 1.14137C20.4603 0.994665 20.7063 0.915864 20.9586 0.916016Z"
                  fill="#AF52DE"
                />
              </svg>
            </h2>

            <ul id="no-bg" className="space-y-2 text-gray-700">
              <li className="flex justify-between font-bold text-lg">
                <span>Ingredients:</span>
                <span>Est. Cost (AUD)</span>
              </li>
              {recipe.ingredients.map((ingredient, index) => (
                <li className="flex justify-between" key={index}>
                  <span>{ingredient.ingredientCategory}</span>
                  <span>$0.08</span>
                </li>
              ))}
            </ul>

            <div
              id="no-bg"
              className="flex justify-between mt-4 font-semibold text-purple-700"
            >
              <span className="flex items-center gap-2">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 25 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M9.00454 5.08235C9.72712 2.96777 12.6489 2.90372 13.5056 4.89022L13.5781 5.08356L14.5532 7.93522C14.7767 8.58921 15.1378 9.18767 15.6122 9.69023C16.0866 10.1928 16.6633 10.5878 17.3034 10.8485L17.5656 10.9464L20.4172 11.9203C22.5318 12.6429 22.5959 15.5646 20.6106 16.4213L20.4172 16.4938L17.5656 17.469C16.9114 17.6923 16.3127 18.0534 15.8099 18.5278C15.3071 19.0022 14.912 19.579 14.6511 20.2191L14.5532 20.4801L13.5793 23.333C12.8567 25.4476 9.93496 25.5116 9.07946 23.5263L9.00454 23.333L8.03062 20.4813C7.8073 19.8271 7.44624 19.2284 6.97181 18.7257C6.49738 18.2229 5.92062 17.8277 5.28046 17.5668L5.01946 17.469L2.16779 16.4951C0.0519981 15.7725 -0.0120434 12.8507 1.97446 11.9952L2.16779 11.9203L5.01946 10.9464C5.67345 10.7229 6.27191 10.3618 6.77447 9.88737C7.27703 9.41295 7.672 8.83627 7.93275 8.19622L8.03062 7.93522L9.00454 5.08235ZM11.2919 5.86293L10.318 8.7146C9.97772 9.71184 9.42416 10.6229 8.69585 11.3844C7.96755 12.1459 7.08202 12.7395 6.10091 13.1238L5.79883 13.2338L2.94716 14.2077L5.79883 15.1816C6.79607 15.5219 7.70716 16.0754 8.46864 16.8037C9.23012 17.532 9.8237 18.4176 10.208 19.3987L10.318 19.7008L11.2919 22.5524L12.2658 19.7008C12.6061 18.7035 13.1597 17.7924 13.888 17.031C14.6163 16.2695 15.5018 15.6759 16.4829 15.2916L16.785 15.1828L19.6367 14.2077L16.785 13.2338C15.7878 12.8935 14.8767 12.3399 14.1152 11.6116C13.3537 10.8833 12.7601 9.99778 12.3758 9.01668L12.267 8.7146L11.2919 5.86293ZM20.9586 0.916016C21.1846 0.916015 21.4062 0.979427 21.598 1.09904C21.7898 1.21866 21.9442 1.38969 22.0437 1.59268L22.1017 1.73406L22.5246 2.97381L23.7655 3.39672C23.9921 3.47369 24.1907 3.61618 24.3361 3.80613C24.4816 3.99608 24.5674 4.22494 24.5827 4.46371C24.598 4.70248 24.542 4.94041 24.4219 5.14734C24.3018 5.35428 24.123 5.5209 23.9081 5.6261L23.7655 5.6841L22.5258 6.10702L22.1029 7.34797C22.0258 7.57445 21.8832 7.77294 21.6932 7.9183C21.5031 8.06365 21.2742 8.14933 21.0355 8.16447C20.7967 8.17961 20.5588 8.12354 20.352 8.00335C20.1451 7.88316 19.9786 7.70427 19.8735 7.48935L19.8155 7.34797L19.3926 6.10822L18.1516 5.68531C17.9251 5.60834 17.7265 5.46586 17.581 5.27591C17.4355 5.08596 17.3497 4.85709 17.3345 4.61832C17.3192 4.37955 17.3751 4.14162 17.4952 3.93469C17.6153 3.72775 17.7941 3.56113 18.009 3.45593L18.1516 3.39793L19.3914 2.97502L19.8143 1.73406C19.8958 1.49532 20.0499 1.28807 20.2551 1.14137C20.4603 0.994665 20.7063 0.915864 20.9586 0.916016Z"
                    fill="#AF52DE"
                  />
                </svg>
                Estimated Total Cost:
              </span>
              <span className="font-bold text-black">$8.04</span>
            </div>

            {/* Button aligned to right */}
            <div className="mt-3 flex justify-end">
              <button
                id="no-bg"
                className="bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2 font-semibold"
              >
                Shop Recipe
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M1.25 2.5H2.70833L3.33333 5M3.33333 5L5.41667 13.3333H16.25L18.3333 5H3.33333Z"
                    stroke="white"
                    strokeWidth="1.66667"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M5.41699 17.5C6.10735 17.5 6.66699 16.9404 6.66699 16.25C6.66699 15.5596 6.10735 15 5.41699 15C4.72664 15 4.16699 15.5596 4.16699 16.25C4.16699 16.9404 4.72664 17.5 5.41699 17.5Z"
                    stroke="white"
                    strokeWidth="1.66667"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                  <path
                    d="M16.25 17.5C16.9404 17.5 17.5 16.9404 17.5 16.25C17.5 15.5596 16.9404 15 16.25 15C15.5596 15 15 15.5596 15 16.25C15 16.9404 15.5596 17.5 16.25 17.5Z"
                    stroke="white"
                    strokeWidth="1.66667"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              </button>
            </div>
          </div>

          {/* Instructions */}
          <div id="no-bg" className="border-2 border-purple-400 rounded-xl p-4">
            <h2 id="no-bg" className="font-bold text-xl mb-2">
              Instructions:
            </h2>
            {recipe.instructions.map((step, index) => (
              <p
                className="text-gray-700 text-sm flex items-start gap-2"
                key={index}
              >
                <span className="inline-flex items-center justify-center min-w-6 min-h-6 px-2 py-1 text-purple-600 border-1 border-purple-600 rounded-full font-semibold text-xs leading-none">
                  {index + 1}
                </span>
                {step.description}
              </p>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
